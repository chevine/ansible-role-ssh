---
# role: ansible-role-ssh
# file: defaults/main/sshd.yml

# write ssh server configuration to /etc/ssh/sshd_conf
sshd_conf_enabled: false

# port sshd will listen on
sshd_port: 22

# adress family, can be 'inet', 'inet6' or 'any'
sshd_address_family: 'inet'

# list of ipv4 addresses to listen on
# per default, we listen on the default address only.
# to listen on any ipv4, please set: 
# sshd_listen_addresses_v4: ['0.0.0.0']
sshd_listen_addr_v4:
  - ansible_default_ipv4.address

# list of ipv6 addresses to listen on
sshd_listen_addr_v6: []

# force renewal of ssh host keys
# attenation: existing known_hosts entries become invalid
sshd_host_key_regenerate: false

# ssh host keys
# every key not in the list, will be deleted
# even if sshd_host_key_regenerate = false
# if you want ecdsa add: 
# ecdsa: ssh_host_ecdsa_key
sshd_host_keys:
  rsa: '/etc/ssh/ssh_host_rsa_key'
  ed25519: '/etc/ssh/ssh_host_ed25519_key'

# key length of rsa key
sshd_rsa_keylength: 4096

# renegotiate session key after 64M of data or 1800 seconds
sshd_rekey_limit: 64M 1800

# time to disconnect client if no successful authentication
sshd_login_grace_time: '60'

# permit root login, 
# values are yes, prohibit-password, forced-commands-only, or no
sshd_permit_root_login: 'no'

# maximum number of auth tries
sshd_max_auth_tries: 3

# max sessions per network connection
sshd_max_sessions: 3

# enable pubkey authentication
sshd_pubkey_auth: 'yes'

# auhtorized keys file
sshd_authorized_keys_file: '%h/.ssh/authorized_keys'

# enable host based authentication
# a good thing to have, but not for beginners, so off by default
sshd_hostbased_auth: 'no'

# ignore users known_hosts file
sshd_ignore_user_known_hosts: 'yes'

# ignore users ~/.rhosts and ~/.shosts files
sshd_ignore_rhosts: 'yes'

# enable cleartext password authentication
sshd_password_auth: 'no'

# enable challenge response authentication
sshd_challenge_auth: 'no'

# enable pam authentication
sshd_use_pam: 'yes'

# use dns verification 
sshd_use_dns: 'yes'

# deny ssh login for listed users
sshd_deny_users: []

# allow ssh login for listed users only
sshd_allow_users: []

# deny ssh login for listed groups
sshd_deny_groups: []

# allow ssh login for listed groups only
sshd_allow_groups: []

# group specific settings defined via Match Group
sshd_per_group_settings: {}

# user specific settings defined via Match User
# Match User myuser
#	 X11Forwarding yes
#	 AllowTcpForwarding yes
# would be:
# sshd_per_user_settings:
#   myuser:
#     X11Forwarding: yes
#     AllowTcpForwarding: yes
sshd_per_user_settings: {}
